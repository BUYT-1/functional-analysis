% !TeX root = ./document.tex
\documentclass[document]{subfiles}
\begin{document}
\chapter{Пополнение метрического пространства}
\marginpar{26.09.23}
Мы привели несколько примеров нормированных пространств, не являющихся полными. Приведём еще один пример.
\begin{definition}
    \[ \Rho = \left\{ p(x) = \sum^n_{k=0}a_k x^k, a_k \in \bR, n \geq 0 \right\} \]
\end{definition}
$\Rho$ (подпространство в алгебраическом смысле) $ \subset C[a,b], \, ||p||_\infty = \max_{x \in [a,b]} |p(x)|$
$e^x \notin \Rho$, $p_n(x) = \sum^n_{k=0} \frac{x^k}{k!}, \Rightarrow p_n \darrow{[a,b], n \to \infty} e^x$
это не многочлен, потому что если сколько-то раз продифференцировать многочлен, он станте тождественным 0
$\Rightarrow \overline{\Rho} \setminus \Rho \ni e^x \Rightarrow \Rho$ -- не замкнуто $\Rightarrow \Rho$ -- не полное.

\[ \overline{\Rho} = C[a,b] \]
\begin{theorem}[Вейерштрасса, 1885]
    $f \in C[a,b], \forall \varepsilon > 0 \, \exists p \in \Rho$ т.ч.  $||f - p|| < \varepsilon$
    (любую функцию на отрезке можно приблизить многочленами)
\end{theorem}

% тту рисунок отрезок в области G открытой, какую бы пилу не нарисовали, ее можно приблизить многочленами$
\[ p_n \darrow{G} f \Rightarrow f \text{ аналитическая в } G \]

\section{Пополнение метрического пространства}
Несколько простых свойств метрики, и все следуют из неравенства треугольника
\begin{theorem}[Свойства метрики]
    $(X, \rho)$ -- метрическое
    \begin{enumerate}
        \item $x,y,z,u \in X \quad \Rightarrow |\rho(x, u) - \rho(y, z)| \leq \rho(x,y) + \rho(u,z)$
        \item $\rho: X \times X \rightarrow \bR \Rightarrow \rho(x,y)$ -- непрерывная функция
        \item $A \subset X, A $ -- подмножество, $\rho(x,A) = \inf_{y \in A} \rho(x,y) \Rightarrow \rho(x,A)$ -- непрерывная функция от $x$
        \item $A \subset X, A = \overline{A}, x_0 \notin A \Rightarrow \rho(x_0, A) > 0 $
    \end{enumerate}
    
\end{theorem}
\begin{proof}
    \begin{enumerate}
        \item $\rho(x,u) \leq \rho(x,y) + \rho(y,u) \leq \rho(x,y) + \rho(y,z) + \rho(z,u) \Rightarrow \rho(x,u) - \rho(y,z) \leq \rho(x,y) + \rho(z,u)$
        Аналогично $\rho(y,z) - \rho(x,u) \leq \ldots$
        из всего $\Rightarrow 1)$
        \item Докажем непрерывность с помощью последовательности. \\
         $\rho(x,y)$ -- непрерывная?
         \[ \liml_{n \to \infty} x_n = x, \liml_{n \to \infty} y_n = y \Leftrightarrow \liml_{n \to \infty} \rho(x_n, x) = 0 = \liml_{n \to \infty} \rho(y_n, y) \]
         $\rho(x,y) - \rho(x_n, y_n)| \stackrel{(1)}{\leq} \rho(x, x_n) + \rho(y, y_n) \underset{n \to \infty}{\rightarrow} 0 \Rightarrow \liml_{n \to \infty} \rho(x_n, y_n) = \rho(x,y)$
         \item $A \subset X, \, x,z \in X, \, |\rho(x,A) - \rho(z,A)| \leq ? $ \\
         Пусть $y \in A$
         \begin{multline*}
            \rho(x,y) \leq \rho(x,z) + \rho(z,y) \Rightarrow \rho(x,A) \leq \rho(x,z) + \rho(z,y) \, \forall y \in A \\
            \Rightarrow \rho(x,A) \leq \rho(x,z) + \inf_{y \in A} \rho(z,y) = \rho(x,z) + \rho(z,A) \Rightarrow \\
            \rho(x,A) - \rho(z,A) \leq \rho(x,z)
         \end{multline*}
         Но нам нужен модуль. Можем сказать, что $x$ и $z$ ничем не отличаются, аналогично $\rho(z,A) - \rho(x,A) \leq \rho(x,z) \Rightarrow 3 $
         \item  \[ x_0 \notin A \Rightarrow x_0 \in X \setminus A \text{ открытое} \]
         $\Rightarrow \exists \delta > 0 \quad B_\delta(x_0) \subset X \setminus A \Rightarrow \rho(x_0, A) \geq \delta$
    \end{enumerate}

\end{proof}
Перед определением пополнения нам потребуется несколько определений, связанных с отображениями в метрических пространствах.

$(X, \rho), (Y, d)$ -- метрические простарнства. $T: X \rightarrow Y$.
\begin{definition}[Изометрическое вложение]
    \[ d(T_x, T_z) = \rho(x,z) \quad \forall x,z \in X \]
Обозначение: $ X \hookrightarrow Y$
\end{definition}

\begin{definition}[Изометрия]
    $T$ -- изометрическое вложение, $T(X) = Y$
    
\end{definition}
\begin{definition}[Изометричность пространств]
    $(X, \rho), (Y,d)$ изометричны, если $\exists T: X \rightarrow Y, T$ -- изометрия
\end{definition}

\begin{property}
    $T$ -- изометрическое вложение $\Rightarrow$ $T$ -- инъективное, непрерывное
\end{property}
\begin{proof} 
    $x, z \in X, T: X \rightarrow Y,$ пусть $T_x = T_z \Rightarrow d(T_x, T_z) = 0$ 
    Значит, исходное расстояние тоже 0 по свойству метрики. $d(x,z) = 0 \Rightarrow x = z$

    Инъективность проверили, теперь непрерывность, это еще проще.
    \[ \liml_{n \to \infty} = x \Leftrightarrow \liml_{n \to \infty} \rho(x, x_n) = 0 \Rightarrow \liml_{n \to \infty} d(T_{X_n}, T_x) = 0 \Rightarrow \liml_{n \to \infty} T_{X_n} = T_x \]

\end{proof}

\begin{property}
    Если $T$ -- изометрия, то $\exists T^{-1}$ -- изометрия.
\end{property}

\begin{property}
    "Изометричность" -- отношение эквивалентности на множестве метрических пространств
\end{property}

И наконец

\begin{definition}[Пополнение м. пространства]
    $(X, \rho)$ -- метрическое пространство. $(Z, d)$ -- полное метрическое пространство.
    $(Z,d)$ -- пополнение $(X, \rho)$, если существует $T: X \rightarrow Z$
    \begin{enumerate}
        \item $T$ -- изометрическое вложение
        \item $\overline{T(X)} = Z$
    \end{enumerate}
\end{definition}

\begin{remark}
    Не обязательно искать пространство, удовлетворяющее и второму свойству. Достаточно найти такое, которое удовлетворяет первому.
    $(X,\rho)$ -- метрическое пространство, $(U,d)$ -- полное метрическое пространство. Пусть $\exists T: X \rightarrow U$ -- изометрическое вложение. Если 2 свойство не выполняется, то легко такое $Z$ построить.
     Возьмём замыкание образа.
     $ Z = \overline{T(X)} \Rightarrow (Z,d)$ -- пополнение X.
\end{remark}
Теперь обещанная теорема. Возьмём любое метрическое пространство и покажем, что у него есть пополнение.
\begin{theorem}[О пополнении метрического пространства]
    $(X, \rho)$ -- метрическое $\Rightarrow \, \exists$ пополнение $(Z,d)$
\end{theorem}

\begin{proof}
    Есть классическое доказательство с рассмотрением всех фундаметнальных последовательностей, рассмотрением фактор-пространства, 
    муторным разбором случаев. Мы пойдем другим путём. 
    Будет короткое, но \textbf{фантастически}
    непонятное доказательство в том смысле, что непонятно, как его придумать. \\
    Мы собираемся использовать $m(X) = \{ f: X \rightarrow \bR, \sup_{x \in X} |f(x)| < + \infty \} $
    \[ ||f||_{m(X)} = ||f||_\infty = \sup_{x \in X} |f(x)| \]
    $m(X)$ -- полное пространство. \\
    Каждой точке мы сопоставим функцию. Вот такая идея!
    $\varphi: X \rightarrow m(X)$.
    Оно же будет изометрическим вложением, то есть будет сохранять расстояния.  \\
    Сначала будет маленькое облегчающее предположение про $X$, от которого мы потом откажемся.
    Пусть $X$ -- ограниченное, то есть $\exists \, M > 0$ т.ч. $\forall x,y \in X \, \rho(x,y) \leq M$.
    Единственная цель предположения -- формула для $\varphi$ будет чуть проще. Вообще, можно было бы обойтись и без него. \\
    $t \in X, t$ -- фиксирован, $f_t(x) = \rho(x,t)$.
    При фиксированном $t$ -- это функция на $X$. Именно сюда наше отображение будет отображать $t$. Одной точке -- целая функция, понятно?

    \[ \varphi(t) := f_t(x) \text{ т.е. } \varphi: t \rightarrow f_t(x) \]
    \[ |f_t(x)| \leq M \Rightarrow f_t \in m(X) \]
    Самое главное. Проверим, что отображение сохраняет расстояния. Это очень легко. Возьмём 2 точки.
    \begin{gather*}
        \text{ Пусть } t, s \in X, \quad ||f_t - f_s||_\infty = \sup_{x \in X} |\rho(x,y) - \rho(x,s)|\\
        |\rho(x,t) - \rho(x,s) | \leq \rho(t,s), \, \text { Пусть } x = t \Rightarrow |\rho(t,t) - \rho(t,s) | = \rho(t,s)
        %Естесвенно, с таким же успехом можно было взять $x = s$
    \end{gather*}
    \[ \Rightarrow  || \varphi(t) - \varphi(s)||_\infty = \rho(t,s) \Rightarrow \varphi \text{ -- изометрическое вложение} \]

    Посмотрим, что будет, если откажемся от этого облегчающего предположения. Надо будет чуть исправить отображение $\varphi$.
    $X$ -- любое метрическое пространство. $a \in X$ -- фиксированная точка.\\
    $t \in X, f_t(x) = \rho(x,t) - \rho(x,a) \Rightarrow |f_t(x)| \leq \rho(a,t) \Rightarrow f_t \in m(X) $

    Раньше мы могли так брать и не вылетать из пространства из-за ограниченности. Вычтем эту штуку, чтоыб попасть, куда надо. \\
    \[ t,s \in X \Rightarrow f_t(x) - f_s(x) = \rho(x,t) - \rho(x,s) \stackrel{(1)}{\Rightarrow} 
        ||f_t - f_s||_\infty = \rho(s,t) 
        \]
    Пополнение $X$: $ \overline{\varphi(X)}^{|| \cdot ||_\infty} = Z, (Z, || \cdot ||_\infty) $
\end{proof}

Таким образом, изучение метрических пространств можно свести к изучению подмножества пространства непрерывных функций.
\begin{remark}
    Забегая далеко вперёд.
    $(X, || \cdot ||)$ -- нормированное, $X^*$ -- множество непрерывных линейных функционалов на $X$, $X^*$ -- полное (ВСЕГДА).

    Мы построим каноническое вложение $\pi: X \rightarrow \underbrace{(X^*)^*}_{\text{полное}}$,
    $\overline{\varphi(x)}^{X^{**}}$ -- пополнение X.
\end{remark}


\section{Теорема о вложенных шарах}

Когда-то в анализе была теорема Кантора о том, что если есть последовательность вложенных друг в друга отрезков, то их пересечение не пусто. Мы докажем похожее утверждение для метрических пространств. Оказывается, то утверждение
было связано с полнотой вещественной прямой $\bR$.
$(X, \rho)$ -- метрическое пространство, $r > 0, x \in X$ \\
Введём стандартное обозначение замкнутого шара. 

\[ D_r(x) = \{ y \in X: \rho(x,y) \leq r\}\]

\begin{theorem}[О вложенных шарах]
    $(X, \rho)$ -- метрическое пространство. $X$ -- полное $(|\Leftrightarrow (\forall \{D_n \}^\infty_{n=1}, D_n = D_{r_n}(x_n))$, $D_{n+1} \subset D_n, 
    \liml_{n \to \infty} r_n = 0 \Rightarrow \bigcap^{+\infty}_{n=1} D_n \neq \varnothing$).
    По сранению с теоремой Кантора у нас есть дополнительное предположение о стремлении к нулю, которое здесь важно, а на прямой было как данность.
\end{theorem}

\begin{proof}
    $\Rightarrow \quad X$ -- полное  \\
    \[ \{D_n\}^\infty_{n=1}, D_n = D_{r_n}(x_n), D_{n+1} \subset D_n, \liml_{n \to \infty} r_n = 0  \]
    Надо проверить, что центры шаров образуют фундаментальную последовательность, то есть что $\seq{x_n}^\infty_{n=1}$ -- фундаментальная. \\
    Пусть $\varepsilon > 0 \quad \exists \, N \in \bN \quad r_n < \varepsilon$ при $n \geq N$.
    \begin{multline*}
        (n > N \, \wedge \, m > N) \Rightarrow (x_n \in D_n \, \wedge \, x_m \in D_n) \Rightarrow \rho(x_n, x_m) \leq  \\ 
        \leq \rho(x_n, x_N) + \rho(x_m, x_N) \leq 2 \varepsilon
    \end{multline*}
    \begin{gather*}
        X \text{ -- полное } \Rightarrow \exists \liml_{n \to \infty} x_n = x \\
        \text{ любое фиксированное } m \in \bN \quad x_n \in D_m \, \forall n \geq m, D_m \text{ -- замкнутое } \\
        \Rightarrow \liml_{n \to \infty, n \geq m} x_n = x \in D_m \\
        \Rightarrow x \in \bigcap^\infty_{m=1} D_m
    \end{gather*}
    $\Leftarrow$ \\
    Ничего кроме определения для доказательства полноты у нас нет. Пусть $\seq{x_n}^\infty_{n=1}$ -- фундаментальная.
    Возьмём достаточно быстро убывающую последовательность $\varepsilon_k = \frac{1}{2^k}$. Существует $\seq{x_{n_k}}^\infty_{k=1}, \rho(x_{n_k}, x_{n_{k+1}}) < \frac{1}{2^{k+1}}$. \\
    $D_k = D_{\varepsilon_k} (x_{n_k})$
    %тут рисуночек что происходит с шаром%

    \begin{gather*}
        \begin{cases}
            y \in D_{k+1} \Rightarrow \rho(y, x_{n_{k+1}}) \leq \frac{1}{2^{k+1}} \\
            \rho(x_{n_k}, x_{n_{k+1}}) < \frac{1}{2^{k+1}}
        \end{cases} \Rightarrow 
    \end{gather*}
    \begin{multline*}
        \rho(y, x_{n_k}) \leq \rho(y, x_{n_{k+1}}) + \rho(x_{n_{k+1}}, x_{n_k}) < \frac{1}{2^{k+1}} + \frac{1}{2^{k+1}} = \frac{1}{2^k} \\
        \Rightarrow y \in D_k \Rightarrow D_{k+1} \subset D_k
    \end{multline*}
    Мы взяли произвольный элемент из $D_{k+1}$ и показали, что он принадлежит $D_k$, то есть показали вложенность элементов последовательности.

    \[ \Rightarrow \exists x \in \bigcap^\infty_{k=1} D_k \quad \rho(x, x_{n_k}) \leq \frac{1}{2^k} \Rightarrow \liml_{k \to \infty} x_{n_k} = x \]

    По свойству фундаметнальных последовательностей из первой лекции $\liml_{n \to \infty} x_n = x$
\end{proof}

\begin{remark}
    В условиях теоремы пересечение вложенных шаров $\bigcap^\infty_{n=1} D_n$ состоит из одной точки.
\end{remark}

\begin{proof}
    Пусть $x \in \bigcap^\infty_{n=1} D_n, \Rightarrow \rho(x, x_n) \in r_n, \liml_{n \to \infty} r_n = 0 \Rightarrow \liml_{n \to \infty} x_n = x$.
    А мы знаем, что предел в метрическом пространстве единственный.
\end{proof}

\begin{remark}
    Условие, что $\liml_{n \to \infty} r_n = 0$ в теореме существенно.
\end{remark}

\begin{example}[Замкнутые множества]
    $\{ F_n \}^\infty_{n=1}, F_n$ -- замкнутое, $F_{n+1} \subset F_n, F_n \subset \bR, \bigcap^\infty_{n=1} F_n = \varnothing, F_n = [n, + \infty)$
\end{example}


\begin{example}[По теореме]
    \[ X [1. +\infty) \quad \rho(x,y) = \begin{cases}
        1 + \frac{1}{x+y}, \quad x \ne y \\
        0, \quad x = y
    \end{cases} \]
    Проверим, что $\rho$ -- метрика. $x,y,z$
    \[ \rho(x,y) + \rho(y,z) = 1 + \frac{1}{x+y} + 1 + \frac{1}{y+z} > 1 + 1 > 1 + \frac{1}{x+z} = \rho(x,z) \]
    Проверяем полноту. Пусть $\seq{x_n}^\infty_{n=1}$ фундаментальная, $\varepsilon = \frac{1}{2} \Rightarrow$ 
    \begin{gather*}
        \exists \, N \in \bN : (n \geq N \, \wedge \, m \geq N) \rho(x_n, x_m) < \frac{1}{2} \Rightarrow \left(\rho(x_n, x_N) < \frac{1}{2} \, \wedge \, \rho(x_m, x_N) < \frac{1}{2}\right) \Rightarrow \\
        x_N = x_{N+1} = x_{N+2} = \ldots \\
        \Rightarrow  \, \exists \liml_{n \to \infty} x_n = X_N \Rightarrow (X, \rho) \text{ -- полное}
    \end{gather*}
    Полноту проверили. \\
    $r_n = 1 + \frac{1}{2n}, x_n = n; D_n = D_{r_n}(n), h \in D_n$. Пусть $x \ne n, x \in D_n \Rightarrow \rho(x, x_n) = 1 + \frac{1}{x+n} \leq 1 + \frac{1}{2n}$
\end{example}

\begin{remark}[Домашнее задание]
    Если $(X, || \cdot ||)$ -- банахово, то $D_{n+1} \subset D_n \{ D_n \}^\infty_{n=1} \Rightarrow \bigcap^\infty_{n=1} D_n \ne \varnothing$  (требование $\liml_{n \to \infty} r_n = 0$ лишнее)
\end{remark}

\section{Сепарабельные пространства}

$(X, \rho)$ -- метрическое пространство,
\begin{definition}[$A$ плотно в $C$]
     $A \subset X, C \subset X$. $A$ плотно в $C$, если $C \subset \overline{A} \Leftrightarrow$
    \[ \forall x \in C \, \forall \varepsilon > 0 \, \exists a \in A \, \rho(x,A) < \varepsilon \Leftrightarrow \forall \varepsilon > 0 \, C \subset \bigcup_{a \in A} B_{\varepsilon}(a) \]
    Любой элемент $C$ можно сколь угодно хорошо приблизить элементами из $A$.
\end{definition}

\begin{definition}[$A$ всюду плотно в $C$]
    $A$ -- всюду плотно в $X$, если $\overline{A} = X$
\end{definition}

Чем же полезно это свойство? Если хотят доказать свойство для $X$, то часто доказывают сначала для всюду плотного 
подмножества.

\begin{definition}[Сепарабельное пространство]
    $(X, \rho)$ -- \textbf{сепарабельное}, если $\, \exists E \subset X, E = \seq{x_n}_{n=1}^\infty, \overline{E} = X$
\end{definition}

\begin{theorem}
    $n \in \bN, q \leq p \leq +\infty$, 
    \[l^p_n \text{ -- сепарабельное} \]
\end{theorem}

\begin{proof}
    \begin{gather*}
        l^p_n = ( \bR^n, || \cdot ||_p) = \{ x = (x_1, \ldots, x_n), x_j \in \bR, ||x||_p \} \\
        E = \bQ^n = \{ x = (x_1, \ldots, x_n), x_j \in \bQ \}
    \end{gather*}
    Если $ (\bC^n, || \cdot ||_p), \tilde{\bQ} = \{ x + iy, \, x, y \in \bQ \}, E = \tilde{\bQ}^n$
\end{proof}

\begin{theorem}
    $F$ -- финитные последовательности, $1 \leq p \leq +\infty$
    \[ (F, || \cdot ||_p) \text{ -- сепарабельно} \]
\end{theorem}
\begin{proof}
    $E = \bigcup^\infty_{n=1}, \, \bQ^n = \{ x = (x_1, x_2, \ldots, x_{N(x)}, 0, 0, \ldots, ), x_j \in \bQ \}$.
    Попросту говоря, все финитные последовательности, координаты которых рациональны.
\end{proof}

\begin{theorem}
    $l^p, 1 \leq p < + \infty, C_0$ -- сепарабельные
\end{theorem}
\begin{proof}
    На прошлой лекции мы доказали, что 
    \begin{gather*}
        (F, ||\cdot||_p), \overline{F}^{||\cdot||_p} = l^p \text{ при } 1 \leq p < + \infty \\
        \begin{cases}
             E = \bigcup^\infty_{n=1} \bQ^n \text{ -- всюду плотно в } F \\
             F \text{ -- всюду плотное в } l^p \end{cases} \Rightarrow  \\
             E \text{ всюду плотно в } l^p, 1 \leq p < + \infty 
    \end{gather*}
    Почему любой элемент из $l^p$ может быть приближен финитной последоватностью? Мы ее просто отрезаем.
\end{proof}

Ответ на упражнение для читателя, которое было на прошлой лекции: 
$F$ -- подпространство в алгебраическом смысле, $F \subset l^\infty$, $\overline{F}^{|| \cdot ||_\infty} = C_0$
\begin{gather*}
    x_0 \in C_0 \Leftrightarrow x = \seq{x_n}^\infty_{n=1}, \liml_{n \to \infty} x_n = 0 \\
    \text{ берем первые } m \text { координат и дополняем их нулями } \\
    x^{(m)} = (x_1, \ldots, x_m, 0, 0, \ldots, 0, \ldots) \Rightarrow x^{(m)} \in F \\
    ||x - x^{(m)}||_\infty = \sup_{k > m} |x_k| \underset{m \to \infty}{\rightarrow} 0
\end{gather*}

Остаётся вопрос, почему $C_0$ -- замкнутое множество. Можно в лоб, а можно по-учёному рассудить.
\begin{gather*}
    \text{ пусть } \seq{y^{(m)}}^\infty_{m=1}, y^{(m)} \in C_0, \, y^{(m)} \underset{m \to \infty}{\rightarrow} y \text{ в } C_0 \\
    \Rightarrow \liml_{m \to \infty} ||y - y^{(m)}||_\infty = 0 \qquad y = \{ y_n \}^\infty_{n=1}, \liml_{n \to \infty} y_n = 0 \text{ ???}
\end{gather*}
А это равномерная сходимость на множестве натуральных чисел, то есть это тот случай, когда можно менять местами пределы.
\[ \liml_{n \to \infty} y_n = \liml_{m \to \infty} \underbrace{\liml_{n \to \infty} y_n^{(m)}}_{=0} = 0 \]

Упражнение: $C$ -- сепарабельное, $C \subset l^\infty$ 

\begin{theorem}
    $l^\infty$ -- не сепарабельное
\end{theorem}

Какой бы шарик из $X$ мы бы не предъявили, там всегда будет элемент всюду плотного множества.

\begin{proof}
    \[
        A \subset \bN \quad X^A_n = \begin{cases}
            1, n \in A \\
            0, n \notin A
        \end{cases}\]

    Мощность $\{A, A \subset \bN \}$ -- континуум (> счётное). Это и будет центр пересекающихся шариков. Посмотрим, каким будет расстояние между двумя разными точками.
    \begin{gather*}
        A \subset \bN, C \subset \bN, A \notin \bC \\
        X^A_n - X^c_n = \begin{cases}
            1 \\
            0 \\
            -1
        \end{cases} \Rightarrow ||x^A - x^C||_\infty = \sup_{n \in \bN} |X^A_n - ^C_n| = 1 
    \end{gather*}
    То есть если 2 множества не равны, то расстояние между ними -- единица.

    \[B_{\frac{1}{2}} (x^A) \cap B_{\frac{1}{2}}(x^C) = \varnothing \] 
    Мы предъявили несчётный набор дизъюнктных шариков. $E$ -- всюду плотно в $l^\infty \Rightarrow \, \forall A \subset \bN \, \exists e_A \in B_{\frac{1}{2}}(x^A)$

    \[ A \ne C \Rightarrow e_A \ne e_C, \qquad \underbrace{\seq{e_A}_{a \subset \bN}}_{\text{ несчётно }} \subset E \Rightarrow E \text{ несчётно } \]
    То, что у всех шариков одинаковый радиус -- это просто приятный бонус.
\end{proof}

\begin{theorem}
    $(X, \rho)$ -- сепарабельное, $ Y \subset X \Rightarrow (Y, \rho)$ -- сепарабельное. 
\end{theorem}
\begin{proof}
    $\exists \, E = \seq{x_n}^\infty_{n=1}$ -- всюду плотно в $X$, $x_0 \in X$
    \begin{gather*}
    \rho(x_n, Y) = \inf_{y \in Y} \rho(x_n, y) \Rightarrow \\
    \exists \, \seq{y_{n,k}}^\infty_{k=1} \quad \liml_{k \to \infty} \rho(x_n, y_{n,k}) = \rho(x_n, Y) \\ 
    y_{n,k} \in Y, \, F = \seq{y_{n_k}}_{n,k} \text{ -- счётное }, F \subset Y    
    \end{gather*}
    Проверим, что $F$ -- всюду плотно в $Y$. Пусть $y \in Y, \varepsilon > 0 \Rightarrow \, \exists x_n : \rho(y, x_n) < \varepsilon$.
    Из этого неравенства мы делаем вывод, что $\rho(x_n, Y) < \varepsilon$. Значит, $\exists k: \rho(x_n, y_{n,k}) < \varepsilon \Rightarrow$
    \[ \rho(y, y_{n,k}) \leq \rho(y, x_n) + \rho(x_n, y_{n,k}) < \varepsilon + \varepsilon = 2 \varepsilon \]
\end{proof}

\begin{corollary}
    $X$ -- бесконечное множество $\Rightarrow m(X) $ -- не сепарабельное.  
\end{corollary}
\begin{proof}
    Можно слово в слово повторить доказательство для $l^\infty$, но мы воспользуемся последними доказанными теоремами.
    \begin{gather*}
        \exists \seq{a_j}^\infty_{j=1}, a_j \in X, a_j \ne a_i \text{ при } i \ne j \\
        Y = \{ f \in m(X), f(x) = 0 \text{ если } x \ne a_j \} \sup_{j \in \bN} |f(a_j)| < + \infty \\
        Y \text{ изометрично } l^\infty, f \in Y, T(f) = \seq{f(a_j)}^\infty_{j=1} \in l^\infty \\
        Y \text{ -- не сепарабельно } \Rightarrow \text{ и по последней теореме } \\
        m(X) \text{ -- не сепарабельно}
    \end{gather*}
\end{proof}

\begin{theorem}
    \[ C[a,b] \text { -- сепарабельно} \]
\end{theorem}
\begin{proof}[1 часть]
    \begin{gather*}
        L = \{ \text{ ломаные } \} \quad a = x_0 < x_1 < \ldots < x_n = b \quad \seq{y_k}^n_{k=0}, y_k \in \bR \\
        L(x) \text{ -- ломаные} \\
        L(x_k) = y_k, \, k = 0,1, \ldots, n \quad l(x) \text{ линейная на } [x_k, x_{k+1}]
    \end{gather*}
    Отметим, что $L$ -- всюду плотное множество в пространстве непрерывных функций. Это связано с равномерной непрерывностью. 
    Никаких надежд на то, что оно будёт счётным нет.
    \begin{gather*}
        \text{ пусть } f \in C[a,b], \, \varepsilon > 0 \Rightarrow \exists \delta > 0 : |x-y| < \delta \\
        \Rightarrow |f(x) - f(y)| < \varepsilon \\
        \exists \seq{x_k}^n_{k=0} \text{ -- разбиение } \quad x_{k+1} - x_k < \delta \\
        y_k := f(x_k) \quad L(x) \text{ -- ломаная } \\
        \Rightarrow |f(x) - L(x)| < \varepsilon \Rightarrow ||f-L||_\infty \leq \varepsilon \Rightarrow \overline{\calL} = C[a,b] \\
    \end{gather*}
    как сделать так, чтобы множество ломаных было счётным? возьмём в качестве вершин элементы $\bQ$
    \begin{gather*}
        E = \{ L \in \calL, \, x_k, y_k \in \bQ \} \text{ -- счетное множество } \\
        \begin{cases}
            \calL \subset \overline{E} \\
            \overline{\calL} = C[a,b]
        \end{cases} \Rightarrow E \text{ -- всюду плотно, т.е. } \overline{E} = C[a,b]
    \end{gather*}
    
\end{proof}

\begin{proof}[2 часть]
    по т. Вейерштрасса замыкание многочленов -- тоже пространство непрерывных функций.
    \begin{gather*}
        \Rho = \{ p(x) = \sum^n_{k=0} a_k x^k \} \quad \overline{\Rho} - C[a,b] \\
        E = \{ p(x) = \sum^n_{k=0} a_k x^k, \, a_k \in \bQ \} \\
        \begin{cases}
            \Rho \subset \overline{E} \\
            \overline{\Rho} = C[a,b]
        \end{cases} \Rightarrow \overline{E} = C[a,b]
    \end{gather*}
\end{proof}


\section{Нигде не плотные множества}

\begin{definition}
    $(X, \rho)$ -- метрическое пространство. $A \subset X, A$ -- \textbf{ нигде не плотно} в $X$, если 
    \[ \forall B_r(x) \text { при } r > 0, x \in X \quad B_r(x) \not \subset \overline{A} \Leftrightarrow \Int(\overline{A}) = \varnothing \Leftrightarrow \]
\end{definition}
Если мы рассмотрим замыкание, никакого шарика там не будет. Иначе: если мы рассмотрим внутренность замыкания, она будет пустой.

\begin{multline*}
    \forall r > 0, x \in X \quad B_r(x) \, \exists B_{r_1}(x_1) \subset B_r(x), B_{r_1}(x_1) \cap A = \varnothing \\
    \Leftrightarrow \forall r > 0, x \in X D_r(x) \, \exists D_{r_1}(x_1) \subset D_r(X), D_{r_1}(x_1) \cap A = \varnothing
\end{multline*}

Скоро докажем связь между нигде не плотными множествами и полными пространствами.
 Но сперва определение, которое не будет часто встречаться, но сам факт -- полезный.
\begin{definition}[множество первой категории]
    $M \subset X, (X, \rho)$. $M$ -- \textbf{ множество первой категории}, если 
    \[ M = \bigcup^\infty_{j=1} E_j, E_j \text{ нигде не плотно в } X \]
\end{definition}

$M$ -- \textbf{ множество второй категории}, если $M$ нельзя представить в виде объединения счетного числа нигде не плотных множеств.

\begin{theorem}[Бэр, о категориях]
    $(X, \rho)$ -- полное $\Rightarrow X$ -- множество второй категории.
\end{theorem}

\begin{proof}
    Можно было бы даже от противного. Но мы возьмём семейство $\seq{M_j}^\infty_{j=1}$, $M_j$ -- нигде не плотно в $X$, $\, E - \bigcup^\infty_{j=1} M_j$.
      Мы докажем, 
    что найдётся хоть одна точка, которая принадлежит $X$ и не принадлежит $E$. Это и будет обозначать, что $X$ невозможно представить
    в виде такого объединения.
    \begin{gather*}
        x_0 \in X \quad D_0 = \{ y: \rho(x_0, y) \leq 1\} \\
        M_1 \text{ -- нигде не плотно } \Rightarrow \, \exists D_1 = D_{r_1}(x_1) \subset D_0, D_1 \cap M_1 = \varnothing \\
        r_1 < 1
    \end{gather*}
    Теперь мы то же соображение применим к множеству $M_2$, которое тоже нигде не плотно
    \begin{gather*}
        \exists D_2 = D_{r_2}(x_2) \subset D_1, D_2 \cap M_2 = \varnothing \\
        r_2 < \frac{1}{2}
    \end{gather*}
    и так далее $\begin{cases}
         \seq{D_n}^\infty_{n=1}, D_n = D_{r_n} (x_n), D_{n+1} \subset D_n \\
         D_n \cap M_n = \varnothing, r_n < \frac{1}{n} \end{cases}$ по теореме о вложенных шарах
         $\Rightarrow \, \exists x \in \cap^\infty_{n=1}D_n, (x \in D_n \, \wedge \, x \in X \setminus E) \Rightarrow x \notin M_n \, \forall n \Rightarrow x \notin E$
\end{proof}


\section{Полные семейства элементов}

Теперь мы будем понимать полноту в совершенно другом смысле.
Сначала вспомним, что такое линейная оболочка пространства.
\begin{definition}[Линейная оболочка]
    $X$ -- линейное пространство над $\bR (\bC)$. Рассмотрим семейство $\seq{x_\alpha}_{\alpha \in A}$ -- семейство элементов, $x_\alpha \in X$.
    \[ \calL \seq{x_\alpha}_{\alpha \in A}  = \left\{ \sum^n_{k=1} c_k x_{\alpha_k}, c_k \in \bR (\bC), n \in \bN \right\} \]
\end{definition}


\begin{definition}[Полное семейство]
    $(X, || \cdot ||)$, $\seq{x_\alpha}_{\alpha \in A}$ -- \textbf{полное семейство}, если $\overline{\calL \seq{x_\alpha}_{\alpha \in A}} = X$.
    То есть линейная оболочка всюду плотна в $X$.
\end{definition}

\begin{example}
    $C[a,b], \, \seq{x^n}^{+\infty}_{n=0}$ -- полное семейство в $C[a,b]$, так как
    $\Rho = \calL \seq{x^n}^{+\infty}_{n=0}, \, \overline{\Rho} = C[a,b]$
\end{example}

\begin{example}
    $l^p, \, 1 \leq p < + \infty, \, C_0$
    \begin{gather*}
        e_n = (1, 0, 0, \ldots, 0, \underbrace{1}_n, 0, \ldots), \seq{e_n}^\infty_{n=1} \text{ -- полное семейство} \\
        \calL \seq{e_n}^\infty_{n=1} = F \text{ -- финитная последовательность}
    \end{gather*}
\end{example}

Упражнение: $C$ -- что полное семейство?
\end{document}